version: '3.7'
services:
  web:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    environment:
      - APP_ENV=production

  mongo-db-1:
    container_name: mongo-db-1
    volumes:
      - ${LOCAL_MONGO_DB_PATH_NODE1}:/data/db
    environment:
      - APP_ENV=production
    command: mongod --replSet $MONGODB_REPLICA_SET --auth

  nginx:
    volumes:
      - ./env/certbot/conf:/etc/letsencrypt
      - ./env/certbot/www:/var/www/certbot

  redis:
    container_name: redis
    volumes:
      - ${REDIS_DB_PATH}:/var/lib/redis
      - ${REDIS_CONFIG_PATH}:/usr/local/etc/redis/redis.conf

  firmware-worker:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  firmware-worker-high-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  fuzzyhash-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  firmware-worker-default-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  androguard-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  androguard-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-2 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-3 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-4 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-5 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-6 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-7 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-8 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-9 --url redis://redis:6379/ androguard
    networks:
      - backend

  androguard-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androguard
    container_name: androguard-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androguard-worker-10 --url redis://redis:6379/ androguard
    networks:
      - backend

  androwarn-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  androwarn-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-2 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-3 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-4 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-5 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-6 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-7 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-8 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-9 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-10 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-11:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-11
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-11 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-12:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-12
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-12 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-13:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-13
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-13 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-14:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-14
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-14 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-15:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-15
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-15 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-16:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-16
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-16 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-17:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-17
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-17 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-18:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-18
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-18 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-19:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-19
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-19 --url redis://redis:6379/ androwarn
    networks:
      - backend

  androwarn-worker-20:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_androwarn
    container_name: androwarn-worker-20
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name androwarn-worker-20 --url redis://redis:6379/ androwarn
    networks:
      - backend


  apkid-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  apkid-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-2 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-3 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-4 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-5 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-6 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-7 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-8 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-9 --url redis://redis:6379/ apkid
    networks:
      - backend

  apkid-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkid
    container_name: apkid-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkid-worker-10 --url redis://redis:6379/ apkid
    networks:
      - backend

  exodus-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  exodus-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-2 --url redis://redis:6379/ exodus
    networks:
      - backend


  exodus-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-3 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-4 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-5 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-6 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-7 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-8 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-9 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-10 --url redis://redis:6379/ exodus
    networks:
      - backend

  exodus-worker-11:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_exodus
    container_name: exodus-worker-11
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name exodus-worker-11 --url redis://redis:6379/ exodus
    networks:
      - backend

  frida-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  qark-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  qark-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-2 --url redis://redis:6379/ qark
    networks:
      - backend

  qark-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-3 --url redis://redis:6379/ qark
    networks:
      - backend

  qark-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-4 --url redis://redis:6379/ qark
    networks:
      - backend

  qark-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-5 --url redis://redis:6379/ qark
    networks:
      - backend


  qark-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-6 --url redis://redis:6379/ qark
    networks:
      - backend

  qark-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-7 --url redis://redis:6379/ qark
    networks:
      - backend

  qark-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_qark
    container_name: qark-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name qark-worker-8 --url redis://redis:6379/ qark
    networks:
      - backend

  quark_engine-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  quark_engine-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-2 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-3 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-4 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-5 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-6 --url redis://redis:6379/ quark_engine
    networks:
      - backend


  quark_engine-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-7 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-8 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-9 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  quark_engine-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_quark_engine
    container_name: quark_engine-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name quark_engine-worker-10 --url redis://redis:6379/ quark_engine
    networks:
      - backend

  virustotal-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  super-android-analyzer-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  super-android-analyzer-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-2 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-3 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-4 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-5 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-6 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-7 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-8 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-9 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-10 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-11:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-11
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-11 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-12:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-12
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-12 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-13:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-13
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-13 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-14:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-14
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-14 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-15:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-15
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-15 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-16:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-16
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-16 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-17:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-17
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-17 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-18:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-18
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-18 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-19:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-19
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-19 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  super-android-analyzer-worker-20:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_super_android_analyzer
    container_name: super_android_analyzer-worker-20
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name super_android_analyzer-worker-20 --url redis://redis:6379/ super_android_analyzer
    networks:
      - backend

  apkleaks-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  apkleaks-worker-2:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-2 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-3:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-3
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-3 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-4:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-4
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-4 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-5:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-5
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-5 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-6:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-6
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-6 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-7:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-7
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-7 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-8:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-8
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-8 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-9:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-9
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-9 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-10:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-10
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-10 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-11:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-11
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-11 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-12:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-12
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-12 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-13:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-13
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-13 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-14:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-14
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-14 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-15:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-15
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-15 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-16:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-16
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-16 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-17:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-17
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-17 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-18:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-18
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-18 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-19:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-19
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-19 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  apkleaks-worker-20:
    build:
      context: .
      dockerfile: ./docker/base/Dockerfile_apkleaks
    container_name: apkleaks-worker-20
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name apkleaks-worker-20 --url redis://redis:6379/ apkleaks
    networks:
      - backend

  firmware-worker-default-2:
    build:
      context: .
      dockerfile: docker/base/Dockerfile_extractor
    container_name: firmware-worker-default-2
    restart: unless-stopped
    depends_on:
      - redis
    volumes:
      - .:/var/www/
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage
    env_file:
      - ./.env
    command: rqworker --name firmware-worker-default-2 --url redis://redis:6379/ default
    networks:
      - backend

  libradar-worker-1:
    volumes:
      - ${LOCAL_STORAGE_PATH}:/var/www/file_store/00_file_storage
      - ${LOCAL_STORAGE_PATH_SECONDARY}:/var/www/file_store/01_file_storage

  certbot:
    image: certbot/certbot:latest
    depends_on:
      - nginx
    command: certonly --webroot --webroot-path=${CERT_WEBROOT_PATH} --email ${CERT_EMAIL} --agree-tos --no-eff-email -d ${CERT_DOMAIN}
    volumes:
      - ./env/certbot/conf:/etc/letsencrypt
      - ./env/certbot/logs:/var/log/letsencrypt
      - ./env/certbot/data:/var/www/certbot